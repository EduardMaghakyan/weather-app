{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/scripts/weatherIcon.js","webpack:///./app/scripts/tempHolder.js","webpack:///./app/scripts/locationInfo.js","webpack:///./app/scripts/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","WeatherIcon","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","shadow","attachShadow","mode","HTMLElement","setupElements","icon","document","createElement","src","getAttribute","toLowerCase","style","appendChild","val","setAttribute","customElements","define","TempHolder","temp","isCelsius","toFixed","node","celsisuToFarenheit","farenheitToCelsius","innerHTML","getFormattedDegree","_this2","format","addEventListener","toggleFormat","LocationInfo","data","wrapper","info","city","country","getWeather","cords","Promise","resolve","requestParams","method","headers","Headers","cache","myRequest","Request","lat","lon","fetch","makeApiRequest","then","result","json","details","sys","main","description","weather","parseResponse","catch","console","log","async","location","geoOptions","enableHighAccuracy","maximumAge","timeout","navigator","geolocation","reject","getCurrentPosition","position","coords","latitude","longitude","Error","getLocation","app","getElementById","locationInfo","tempHolder","weatherIcon","fn"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","class WeatherIcon extends HTMLElement {\n    constructor() {\n        super();\n        this.shadow = this.attachShadow({ mode: \"open\" });\n    }\n\n    static get observedAttributes() {\n        return [\"weather\"];\n    }\n\n    connectedCallback() {\n        this.setupElements();\n    }\n\n    get weather() {\n        return this.getAttribute(\"weather\");\n    }\n\n    set weather(val) {\n        this.setAttribute(\"weather\", val);\n    }\n\n    setupElements() {\n        const icon = document.createElement(\"img\");\n        icon.src = `/public/img/${this.getAttribute(\n            \"weather\"\n        ).toLowerCase()}.png`;\n        icon.style = \"-webkit-filter: invert(1);filter: invert(1);\";\n        this.shadow.appendChild(icon);\n    }\n}\n\ncustomElements.define(\"weather-icon\", WeatherIcon);\n","class TempHolder extends HTMLElement {\n    constructor() {\n        super();\n        this.temp = this.getAttribute(\"temp\");\n        this.isCelsius = this.getAttribute(\"isCelsius\");\n        this.shadow = this.attachShadow({ mode: \"open\" });\n    }\n\n    connectedCallback() {\n        this.setupElements();\n    }\n\n    celsisuToFarenheit(temp) {\n        return (temp * (9 / 5) + 32).toFixed(2);\n    }\n\n    farenheitToCelsius(temp) {\n        return ((temp - 32) * (5 / 9)).toFixed(2);\n    }\n\n    toggleFormat(node) {\n        if (this.isCelsius) {\n            this.temp = this.celsisuToFarenheit(this.temp);\n        } else {\n            this.temp = this.farenheitToCelsius(this.temp);\n        }\n        this.isCelsius = !this.isCelsius;\n        node.innerHTML = this.getFormattedDegree();\n    }\n\n    getFormattedDegree() {\n        return this.temp + (this.isCelsius ? \" &#8451;\" : \" &#8457;\");\n    }\n\n    setupElements() {\n        const format = document.createElement(\"span\");\n        format.style =\n            \"display: block;width: 50%;margin-left: auto;margin-right: auto;\";\n        format.innerHTML = this.getFormattedDegree();\n        format.addEventListener(\"click\", () => {\n            this.toggleFormat(format);\n        });\n        this.shadow.appendChild(format);\n    }\n}\n\ncustomElements.define(\"temp-holder\", TempHolder);\n","class LocationInfo extends HTMLElement {\n    constructor() {\n        super();\n        const data = this.getAttribute(\"data\");\n        this.data = data;\n    }\n\n    connectedCallback() {\n        this.setupElements();\n    }\n\n    setupElements() {\n        const wrapper = document.createElement(\"div\");\n        wrapper.setAttribute(\"class\", \"wrapper\");\n        const info = document.createElement(\"span\");\n        info.innerHTML = this.data.city + \", \" + this.data.country;\n        info.style =\n            \"display: block;width: 50%;margin-left: auto;margin-right: auto;\";\n\n        const shadow = this.attachShadow({ mode: \"open\" });\n        shadow.appendChild(wrapper);\n        wrapper.appendChild(info);\n    }\n}\n\ncustomElements.define(\"location-info\", LocationInfo);\n","require(\"./locationInfo\");\nrequire(\"./tempHolder\");\nrequire(\"./weatherIcon\");\n\nconst getLocation = () => {\n    const geoOptions = {\n        enableHighAccuracy: true,\n        maximumAge: 30000,\n        timeout: 27000\n    };\n    if (navigator.geolocation) {\n        return new Promise((resolve, reject) => {\n            resolve({\n                lat: \"52.52000659999999\",\n                lon: \"13.404953999999975\"\n            });\n            navigator.geolocation.getCurrentPosition(\n                position => {\n                    resolve({\n                        lat: position.coords.latitude,\n                        lon: position.coords.longitude\n                    });\n                },\n                reject,\n                geoOptions\n            );\n        });\n    } else {\n        throw new Error();\n    }\n};\n\nconst makeApiRequest = cords => {\n    const headers = new Headers();\n    const requestParams = {\n        method: \"GET\",\n        headers: headers,\n        mode: \"cors\",\n        cache: \"no-cache\"\n    };\n\n    const myRequest = new Request(\n        `https://fcc-weather-api.glitch.me/api/current?lat=${cords.lat}&lon=${\n            cords.lon\n        }`,\n        requestParams\n    );\n    return fetch(myRequest);\n};\n\nconst parseResponse = data => {\n    let details = {};\n    details.country = data.sys.country;\n    details.city = data.name;\n    details.temp = data.main.temp;\n    details.description = data.weather[0].main;\n    return details;\n};\n\nconst getWeather = cords => {\n    return new Promise(resolve => {\n        makeApiRequest(cords)\n            .then(result => result.json())\n            .then(data => {\n                resolve(parseResponse(data));\n            })\n            .catch(() => console.log(\"Somehting went wrong!\"));\n    });\n};\n\nconst fn = async () => {\n    const location = await getLocation();\n    const weather = await getWeather(location);\n    const app = document.getElementById(\"app\");\n\n    const locationInfo = document.createElement(\"location-info\");\n    locationInfo.data = weather;\n\n    const tempHolder = document.createElement(\"temp-holder\");\n    tempHolder.isCelsius = true;\n    tempHolder.temp = weather.temp;\n\n    const weatherIcon = document.createElement(\"weather-icon\");\n    weatherIcon.weather = weather.description;\n\n    app.appendChild(locationInfo);\n    app.appendChild(tempHolder);\n    app.appendChild(weatherIcon);\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", fn(), false);\n"],"sourceRoot":""}